# Max request body size
client_max_body_size 8M;
# NOTE: Also check the php.ini for the following settings:
#       post_max_size (default: 8M)
#       upload_max_filesize (default: 2M)

# Handling PHP requests
location ~ [^/]\.php(?:/|$) {
    location ~ ^/wp-cron\.php$ { access_log off; }
    location ~ ^/wp-admin/admin-ajax\.php$ { access_log off; }

    location ~ ^/wp-admin/ {
        if ($status = 200) {
            access_log /var/log/nginx/wp-admin.access.log;
        }
    }

    fastcgi_pass unix:/run/php-fpm/php-fpm.sock;
    include servers.d/inc/php;
}
